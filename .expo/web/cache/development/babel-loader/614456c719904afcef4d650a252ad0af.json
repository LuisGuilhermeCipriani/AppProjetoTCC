{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\GIT\\\\AppProjetoTCC\\\\src\\\\screens\\\\select\\\\DisciplineSelection.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport api from \"../../services/Api\";\nimport Api from \"../../services/Api\";\n\nvar DisciplineSelection = function (_Component) {\n  _inherits(DisciplineSelection, _Component);\n\n  var _super = _createSuper(DisciplineSelection);\n\n  function DisciplineSelection(props) {\n    var _this;\n\n    _classCallCheck(this, DisciplineSelection);\n\n    _this = _super.call(this, props);\n\n    _this.getDisciplines = function _callee2() {\n      var _JSON$parse, _id, v, _await$await$Api$get$, disciplineUser, disciplines;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.t0 = JSON;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@APP:user'));\n\n            case 4:\n              _context2.t1 = _context2.sent;\n              _JSON$parse = _context2.t0.parse.call(_context2.t0, _context2.t1);\n              _id = _JSON$parse._id;\n              v = [];\n              _context2.t2 = _regeneratorRuntime;\n              _context2.next = 11;\n              return _regeneratorRuntime.awrap(Api.get('/DisciplineUser/' + _id));\n\n            case 11:\n              _context2.t3 = _context2.sent.data;\n              _context2.next = 14;\n              return _context2.t2.awrap.call(_context2.t2, _context2.t3);\n\n            case 14:\n              _await$await$Api$get$ = _context2.sent;\n              disciplineUser = _await$await$Api$get$.disciplineUser;\n              disciplines = disciplineUser.map(function _callee(object) {\n                var discipline;\n                return _regeneratorRuntime.async(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _regeneratorRuntime.awrap(api.get('/discipline/' + object.idDiscipline).then(function (t) {\n                          return t.data;\n                        }));\n\n                      case 2:\n                        discipline = _context.sent;\n                        v.push(discipline);\n                        return _context.abrupt(\"return\", discipline);\n\n                      case 5:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              });\n              console.log(v[0]);\n\n              _this.setState(disciplines);\n\n              _context2.next = 24;\n              break;\n\n            case 21:\n              _context2.prev = 21;\n              _context2.t4 = _context2[\"catch\"](0);\n              console.log(_context2.t4);\n\n            case 24:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 21]], Promise);\n    };\n\n    _this.state = {\n      disciplines: []\n    };\n    return _this;\n  }\n\n  _createClass(DisciplineSelection, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regeneratorRuntime.async(function componentDidMount$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              this.getDisciplines();\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var disciplines = this.state.disciplines;\n      console.log(disciplines.length);\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      }, React.createElement(ScrollView, {\n        style: styles.scroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.scrollView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }\n      }, disciplines !== null && disciplines.map(function (discipline) {\n        var name = discipline.name,\n            code = discipline.code,\n            _id = discipline._id;\n        return React.createElement(TouchableOpacity, {\n          key: _id,\n          style: styles.disciplineButton,\n          onPress: function onPress() {\n            _this2.props.navigation.navigate('QuizDiscipline');\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 40\n          }\n        }, React.createElement(Text, {\n          style: styles.textDiscipline,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 37\n          }\n        }, name, \" - \", code));\n      }))));\n    }\n  }]);\n\n  return DisciplineSelection;\n}(Component);\n\nexport { DisciplineSelection as default };\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#ffffff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    flex: 1\n  },\n  disciplineButton: {\n    backgroundColor: '#969393',\n    height: 50,\n    width: '70%',\n    borderRadius: 20,\n    borderWidth: 3,\n    borderColor: '#ffad29',\n    paddingTop: 15,\n    marginTop: 30\n  },\n  textDiscipline: {\n    color: '#000',\n    textAlign: 'center',\n    fontSize: 15,\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: {\n      width: -1,\n      height: 1\n    },\n    textShadowRadius: 10\n  },\n  scroll: {\n    width: '100%',\n    maxHeight: '80%'\n  },\n  scrollView: {\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["C:/GIT/AppProjetoTCC/src/screens/select/DisciplineSelection.js"],"names":["React","Component","AsyncStorage","api","Api","DisciplineSelection","props","getDisciplines","JSON","getItem","parse","_id","v","get","data","disciplineUser","disciplines","map","object","idDiscipline","then","t","discipline","push","console","log","setState","state","length","styles","container","scroll","scrollView","name","code","disciplineButton","navigation","navigate","textDiscipline","StyleSheet","create","backgroundColor","alignItems","justifyContent","flex","height","width","borderRadius","borderWidth","borderColor","paddingTop","marginTop","color","textAlign","fontSize","textShadowColor","textShadowOffset","textShadowRadius","maxHeight"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;;;;;SAC8DC,Y;AAC9D,OAAOC,GAAP;AAEA,OAAOC,GAAP;;IAEqBC,mB;;;;;AACjB,+BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,8BAAMA,KAAN;;AADc,UAWlBC,cAXkB,GAWD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAEOC,IAFP;AAAA;AAAA,+CAEwBN,YAAY,CAACO,OAAb,CAAqB,WAArB,CAFxB;;AAAA;AAAA;AAAA,yCAEYC,KAFZ;AAEDC,cAAAA,GAFC,eAEDA,GAFC;AAGHC,cAAAA,CAHG,GAGC,EAHD;AAAA;AAAA;AAAA,+CAI6BR,GAAG,CAACS,GAAJ,CAAQ,qBAAqBF,GAA7B,CAJ7B;;AAAA;AAAA,4CAIgEG,IAJhE;AAAA;AAAA;;AAAA;AAAA;AAIFC,cAAAA,cAJE,yBAIFA,cAJE;AAKHC,cAAAA,WALG,GAKWD,cAAc,CAACE,GAAf,CAAmB,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDACVf,GAAG,CAACU,GAAJ,CAAQ,iBAAiBK,MAAM,CAACC,YAAhC,EAA8CC,IAA9C,CAAmD,UAAAC,CAAC,EAAI;AAAC,iCAAOA,CAAC,CAACP,IAAT;AAAc,yBAAvE,CADU;;AAAA;AAC7BQ,wBAAAA,UAD6B;AAGnCV,wBAAAA,CAAC,CAACW,IAAF,CAAOD,UAAP;AAHmC,yDAI5BA,UAJ4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnB,CALX;AAWVE,cAAAA,OAAO,CAACC,GAAR,CAAYb,CAAC,CAAC,CAAD,CAAb;;AACC,oBAAKc,QAAL,CAAeV,WAAf;;AAZS;AAAA;;AAAA;AAAA;AAAA;AAcTQ,cAAAA,OAAO,CAACC,GAAR;;AAdS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAXC;;AAEd,UAAKE,KAAL,GAAa;AACTX,MAAAA,WAAW,EAAE;AADJ,KAAb;AAFc;AAKjB;;;;;;;;;AAGG,mBAAKT,cAAL;;;;;;;;;;;6BAqBI;AAAA;;AAAA,UACIS,WADJ,GACoB,KAAKW,KADzB,CACIX,WADJ;AAEJQ,MAAAA,OAAO,CAACC,GAAR,CAAYT,WAAW,CAACY,MAAxB;AACA,aACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAED,MAAM,CAACE,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEKhB,WAAW,KAAK,IAAhB,IACGA,WAAW,CAACC,GAAZ,CAAgB,UAAAK,UAAU,EAAI;AAAA,YAClBW,IADkB,GACEX,UADF,CAClBW,IADkB;AAAA,YACZC,IADY,GACEZ,UADF,CACZY,IADY;AAAA,YACNvB,GADM,GACEW,UADF,CACNX,GADM;AAE1B,eAAO,oBAAC,gBAAD;AAAkB,UAAA,GAAG,EAAGA,GAAxB;AAA8B,UAAA,KAAK,EAAEkB,MAAM,CAACM,gBAA5C;AACH,UAAA,OAAO,EAAE,mBAAI;AAAC,YAAA,MAAI,CAAC7B,KAAL,CAAW8B,UAAX,CAAsBC,QAAtB,CAA+B,gBAA/B;AAAiD,WAD5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEH,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAER,MAAM,CAACS,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACML,IADN,SACiBC,IADjB,CAFG,CAAP;AAMH,OARD,CAHR,CADJ,CADJ,CADJ;AAoBH;;;;EArD4CjC,S;;SAA5BI,mB;AAwDrB,IAAMwB,MAAM,GAAGU,UAAU,CAACC,MAAX,CAAkB;AAC7BV,EAAAA,SAAS,EAAE;AACPW,IAAAA,eAAe,EAAE,SADV;AAEPC,IAAAA,UAAU,EAAE,QAFL;AAGPC,IAAAA,cAAc,EAAE,YAHT;AAIPC,IAAAA,IAAI,EAAE;AAJC,GADkB;AAO7BT,EAAAA,gBAAgB,EAAE;AACdM,IAAAA,eAAe,EAAE,SADH;AAEdI,IAAAA,MAAM,EAAE,EAFM;AAGdC,IAAAA,KAAK,EAAE,KAHO;AAIdC,IAAAA,YAAY,EAAE,EAJA;AAKdC,IAAAA,WAAW,EAAE,CALC;AAMdC,IAAAA,WAAW,EAAE,SANC;AAOdC,IAAAA,UAAU,EAAE,EAPE;AAQdC,IAAAA,SAAS,EAAE;AARG,GAPW;AAiB7Bb,EAAAA,cAAc,EAAE;AACZc,IAAAA,KAAK,EAAE,MADK;AAEZC,IAAAA,SAAS,EAAE,QAFC;AAGZC,IAAAA,QAAQ,EAAE,EAHE;AAIZC,IAAAA,eAAe,EAAE,qBAJL;AAKZC,IAAAA,gBAAgB,EAAE;AAACV,MAAAA,KAAK,EAAE,CAAC,CAAT;AAAYD,MAAAA,MAAM,EAAE;AAApB,KALN;AAMZY,IAAAA,gBAAgB,EAAE;AANN,GAjBa;AAyB7B1B,EAAAA,MAAM,EAAE;AACJe,IAAAA,KAAK,EAAE,MADH;AAEJY,IAAAA,SAAS,EAAE;AAFP,GAzBqB;AA6B7B1B,EAAAA,UAAU,EAAE;AACRU,IAAAA,UAAU,EAAE;AADJ;AA7BiB,CAAlB,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Text, View, StyleSheet, TouchableOpacity, ScrollView, AsyncStorage} from 'react-native';\r\nimport api from '../../services/Api';\r\n\r\nimport Api from '../../services/Api';\r\n\r\nexport default class DisciplineSelection extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            disciplines: []\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getDisciplines();\r\n    }\r\n\r\n    getDisciplines = async () => {\r\n        try {\r\n            const { _id } = JSON.parse(await AsyncStorage.getItem('@APP:user'));\r\n            const v = []\r\n            const {disciplineUser} = await (await Api.get('/DisciplineUser/' + _id)).data;\r\n            const disciplines = disciplineUser.map(async object => {\r\n                const discipline = await api.get('/discipline/' + object.idDiscipline).then(t => {return t.data})\r\n                //console.log(discipline)\r\n                v.push(discipline)\r\n                return discipline          \r\n            })\r\n           console.log(v[0])\r\n            this.setState( disciplines );\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { disciplines } = this.state;\r\n        console.log(disciplines.length)\r\n        return(\r\n            <View style={styles.container}>\r\n                <ScrollView style={styles.scroll}>\r\n                    <View style={styles.scrollView}>\r\n                    \r\n                        {disciplines !== null &&\r\n                            disciplines.map(discipline => {\r\n                                const { name, code, _id } = discipline;\r\n                                return <TouchableOpacity key={ _id } style={styles.disciplineButton} \r\n                                    onPress={()=>{this.props.navigation.navigate('QuizDiscipline')}}>\r\n                                    <Text style={styles.textDiscipline}>\r\n                                        { name } - { code }\r\n                                    </Text>\r\n                                </TouchableOpacity>\r\n                            })\r\n                        }\r\n                    </View>\r\n                </ScrollView>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        backgroundColor: '#ffffff',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-start',\r\n        flex: 1,\r\n    },\r\n    disciplineButton: {\r\n        backgroundColor: '#969393',\r\n        height: 50,\r\n        width: '70%',\r\n        borderRadius: 20,\r\n        borderWidth: 3,\r\n        borderColor: '#ffad29',\r\n        paddingTop: 15,\r\n        marginTop: 30,\r\n    },\r\n    textDiscipline: {\r\n        color: '#000',\r\n        textAlign: 'center',\r\n        fontSize: 15,\r\n        textShadowColor: 'rgba(0, 0, 0, 0.75)',\r\n        textShadowOffset: {width: -1, height: 1},\r\n        textShadowRadius: 10,\r\n    },\r\n    scroll: {\r\n        width: '100%',\r\n        maxHeight: '80%',\r\n    },\r\n    scrollView: {\r\n        alignItems: 'center',\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}